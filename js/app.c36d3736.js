(function(t){function e(e){for(var n,o,r=e[0],c=e[1],u=e[2],d=0,h=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(h.length)h.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,r=1;r<s.length;r++){var c=s[r];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},a={app:0},i=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("cd49")},1866:function(t,e,s){},"21bb":function(t,e,s){"use strict";s("2dad")},"2dad":function(t,e,s){},4221:function(t,e,s){"use strict";s("9271")},"5c0b":function(t,e,s){"use strict";s("9c0c")},"6a70":function(t,e,s){"use strict";s("1866")},"7c59":function(t,e,s){"use strict";s("d2b9")},9271:function(t,e,s){},"9c0c":function(t,e,s){},b985:function(t,e,s){"use strict";s("de7f")},cd49:function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"app"},[s("v-main",[s("router-view")],1)],1)},i=[],o=n["a"].extend({name:"App",components:{},beforeDestroy:function(){this.$socket.emit("disconnect",{})}}),r=o,c=(s("5c0b"),s("2877")),u=s("6544"),l=s.n(u),d=s("7496"),h=s("f6c4"),f=Object(c["a"])(r,a,i,!1,null,null,null),b=f.exports;l()(f,{VApp:d["a"],VMain:h["a"]});var v=s("8c4f"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[t.isStarted?t._e():s("h1",[t._v("The quiz haven't started yet.")])])},w=[],_=n["a"].extend({name:"Home",components:{},data:function(){return{isStarted:!1}},mounted:function(){var t=this;console.log("Checkstate"),this.$socket.emit("checkstate",{}),this.sockets.subscribe("changestate",(function(e){console.log("State changed. State: ".concat(JSON.stringify(e))),t.isStarted=e.isStarted,t.isStarted&&window.location.assign(t.$router.resolve({path:"/setname"}).href)}))},beforeDestroy:function(){this.sockets.unsubscribe("changestate")}}),k=_,m=(s("21bb"),Object(c["a"])(k,p,w,!1,null,null,null)),g=m.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"setname"},[t.isWaiting?t._e():s("v-sheet",{staticClass:"form align-center",attrs:{rounded:"",elevation:"8",color:"#1dd1a1"}},[s("h1",[t._v("The quiz has started, please choose a name!")]),s("v-spacer"),s("v-text-field",{ref:"username",attrs:{placeholder:"Name"}}),s("v-btn",{attrs:{elevation:"8"},on:{click:function(e){return t.ready()}}},[t._v("Start")])],1),t.isWaiting?s("v-sheet",{staticClass:"form align-center",attrs:{rounded:"",elevation:"8",color:"#1dd1a1"}},[s("h1",[t._v("Waiting for "+t._s(t.waitUsers)+" users!")]),s("h2",[t._v("Players")]),s("ul",t._l(t.players,(function(e){return s("li",{key:e},[t._v(t._s(e))])})),0)]):t._e()],1)},C=[],S=n["a"].extend({name:"SetName",data:function(){return{isWaiting:!1,waitUsers:0,players:[]}},methods:{ready:function(){this.$socket.emit("ready",{name:this.$refs.username.lazyValue}),this.isWaiting=!0}},mounted:function(){var t=this;this.sockets.subscribe("waiting",(function(e){t.waitUsers=e.notReadyPlayers})),this.sockets.subscribe("update_players",(function(e){t.players=e})),this.sockets.subscribe("changestate",(function(e){console.log("State changed. State: ".concat(JSON.stringify(e))),e.isStarted?e.isReady&&window.location.assign(t.$router.resolve({path:"/quiz"}).href):window.location.assign(t.$router.resolve({path:"/"}).href)})),this.$socket.emit("checkstate",{})},beforeDestroy:function(){this.sockets.unsubscribe("waiting"),this.sockets.unsubscribe("update_players"),this.sockets.unsubscribe("changestate")}}),$=S,q=(s("4221"),s("8336")),x=s("8dd9"),O=s("2fa4"),E=s("8654"),j=Object(c["a"])($,y,C,!1,null,null,null),z=j.exports;l()(j,{VBtn:q["a"],VSheet:x["a"],VSpacer:O["a"],VTextField:E["a"]});var P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashboard align-center"},[s("h1",[t._v("Dashboard")]),s("div",{staticClass:"btn-group"},[s("v-btn-toggle",{model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[s("v-btn",{attrs:{color:"#1dd1a1",elevation:"6"}},[t._v("Open")]),s("v-btn",{attrs:{color:"#1dd1a1",elevation:"6"}},[t._v("Start")]),s("v-btn",{attrs:{color:"#1dd1a1",elevation:"6"}},[t._v("Stop")]),s("v-btn",{attrs:{color:"#1dd1a1",elevation:"6"}},[t._v("End")]),s("v-btn",{attrs:{color:"#1dd1a1",elevation:"6"}},[t._v("Reset")])],1)],1),s("div",{staticClass:"players"},[t._v(" Waiting: "+t._s(t.waitUsers)),s("br"),t._v(" InGame: "+t._s(t.pCount)+" "),s("br"),t._v(" Players: "),s("ul",t._l(t.players,(function(e){return s("li",{key:e},[t._v(" "+t._s(e)+" "),s("v-btn",{attrs:{color:"#1dd1a1",elevation:"8"},on:{click:function(s){return t.kick(e)}}},[t._v("Kick")])],1)})),0),t._v(" Question: "+t._s(""==t.question?"----":t.question)+" "),s("br"),t._l(t.answers,(function(e,n){return s("p",{key:n},[t._v(" {{right == n ? `"),s("b",[t._v("${answ}")]),t._v("` : answ}}: "+t._s(t.aCount[t.n])+" ")])}))],2)])},R=[],V=(s("159b"),n["a"].extend({name:"Dashboard",data:function(){return{waitUsers:0,players:[],state:2,question:"",answers:[],aCount:[],right:0}},computed:{pCount:function(){return this.players.length}},watch:{state:function(t){switch(t){case 0:this.open();break;case 1:this.start();break;case 2:this.stop();break;case 3:this.end();break;case 4:this.reset();break}}},methods:{open:function(){this.$socket.emit("setquizstate",{isStarted:!0,isReady:!1,isEnded:!1})},start:function(){this.$socket.emit("setquizstate",{isStarted:!0,isReady:!0,isEnded:!1})},stop:function(){this.$socket.emit("setquizstate",{isStarted:!1,isReady:!1,isEnded:!1})},end:function(){this.$socket.emit("setquizstate",{isStarted:!0,isReady:!0,isEnded:!0})},reset:function(){this.$socket.emit("reset_quiz",{}),this.state=2},kick:function(t){this.$socket.emit("kick_player",t)}},mounted:function(){var t=this;this.$socket.emit("dash",{}),this.sockets.subscribe("waiting",(function(e){t.waitUsers=e.notReadyPlayers})),this.sockets.subscribe("update_players",(function(e){t.players=e})),this.sockets.subscribe("changestate",(function(e){e.isStarted||e.isReady||e.isEnded?e.isEnded?t.state=3:e.isReady?t.state=1:t.state=0:t.state=2})),this.sockets.subscribe("updatequestion",(function(e){t.question=e.title,t.answers=e.answers,t.answers.forEach((function(e){t.aCount.push(0)}))})),this.$socket.emit("querry_players",{}),this.$socket.emit("checkstate",{})},beforeDestroy:function(){this.sockets.unsubscribe("waiting"),this.sockets.unsubscribe("update_players"),this.sockets.unsubscribe("changestate"),this.sockets.unsubscribe("updatequestion")}})),T=V,D=(s("b985"),s("a609")),A=Object(c["a"])(T,P,R,!1,null,null,null),N=A.exports;l()(A,{VBtn:q["a"],VBtnToggle:D["a"]});var U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"quiz"},[t.isCool&&!t.isAnn?s("div",{staticClass:"countdown"},[s("h1",[t._v(t._s(t.cooldown))]),s("h3",[t._v(t._s(t.facts[t.answer.id]))])]):t._e(),t.isCool||t.isAnn?t._e():s("div",{staticClass:"question"},[s("div",{staticClass:"heading"},[s("h1",[t._v(t._s(t.cooldown))]),s("v-progress-linear",{attrs:{value:10*t.cooldown}})],1),s("h1",[t._v(t._s(t.title))]),s("v-spacer"),t.answer.has?t._e():s("div",{staticClass:"btns"},[s("div",{staticClass:"col"},[s("div",{staticClass:"btn"},[s("v-btn",{attrs:{color:"#10ac84",height:"100%"},on:{click:function(e){return t.answ(0)}}},[t._v(t._s(t.answers[0]))])],1),s("div",{staticClass:"btn"},[s("v-btn",{attrs:{color:"#1dd1a1",height:"100%"},on:{click:function(e){return t.answ(1)}}},[t._v(t._s(t.answers[1]))])],1)]),s("div",{staticClass:"spacer"}),s("div",{staticClass:"col"},[s("div",{staticClass:"btn"},[s("v-btn",{attrs:{color:"#1dd1a1",height:"100%"},on:{click:function(e){return t.answ(2)}}},[t._v(t._s(t.answers[2]))])],1),s("div",{staticClass:"btn"},[s("v-btn",{attrs:{color:"#10ac84",height:"100%"},on:{click:function(e){return t.answ(3)}}},[t._v(t._s(t.answers[3]))])],1)])])],1),t.isAnn?s("div",{staticClass:"announcement"},[s("h1",[t._v("Question "+t._s(t.annNum))])]):t._e()])},W=[],M=n["a"].extend({name:"Quiz",data:function(){return{isCool:!0,title:"",answers:[],facts:[],cooldown:5,answer:{id:0,has:!1},isAnn:!1,annNum:0}},mounted:function(){var t=this;this.sockets.subscribe("updatequestion",(function(e){null!=e&&void 0!=e?(t.title=e.title,t.answers=e.answers,t.facts=e.facts):window.location.assign(t.$router.resolve({path:"/end"}).href)})),this.sockets.subscribe("startquestion",(function(){t.isCool=!1})),this.sockets.subscribe("update-countdown",(function(e){t.cooldown=e})),this.sockets.subscribe("setcooldown",(function(e){t.isCool=e})),this.sockets.subscribe("setCurrState",(function(e){switch(e){case 0:t.isCool=!0,t.cooldown=5;break;case 1:t.isCool=!1,t.cooldown=10,t.answer.id=0,t.answer.has=!1;break;case 2:window.location.assign(t.$router.resolve({path:"/end"}).href)}})),this.sockets.subscribe("annuance",(function(e){t.annNum=e,t.isAnn=!0,setTimeout((function(){t.isAnn=!1}),1e3)})),this.sockets.subscribe("changestate",(function(e){e.isReady?e.isStarted||window.location.assign(t.$router.resolve({path:"/setname"}).href):window.location.assign(t.$router.resolve({path:"/"}).href)})),this.$socket.emit("getquestion",{}),this.$socket.emit("checkstate",{})},beforeDestroy:function(){this.sockets.unsubscribe("updatequestion"),this.sockets.unsubscribe("startquestion"),this.sockets.unsubscribe("setcooldown"),this.sockets.unsubscribe("update-countdown"),this.sockets.unsubscribe("setCurrState"),this.sockets.unsubscribe("annuance"),this.sockets.unsubscribe("changestate")},methods:{answ:function(t){this.$socket.emit("answer",t),this.answer.id=t,this.answer.has=!0}}}),B=M,J=(s("7c59"),s("8e36")),Q=Object(c["a"])(B,U,W,!1,null,null,null),K=Q.exports;l()(Q,{VBtn:q["a"],VProgressLinear:J["a"],VSpacer:O["a"]});var H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"end"},[s("h1",[t._v("The quiz ended!")]),s("h2",[t._v("Leaderboard:")]),s("ol",t._l(t.top,(function(e){return s("li",{key:e},[t._v(" "+t._s(e.name)+": "+t._s(e.points)+"pts ")])})),0)])},L=[],F=n["a"].extend({name:"End",data:function(){return{top:[]}},mounted:function(){var t=this;this.sockets.subscribe("changestate",(function(e){e.isEnded||(e.isStarted?window.location.assign(t.$router.resolve({path:"/quiz"}).href):e.isReady?window.location.assign(t.$router.resolve({path:"/setname"}).href):window.location.assign(t.$router.resolve({path:"/"}).href))})),this.sockets.subscribe("top",(function(e){t.top=e})),this.$socket.emit("checkstate",{})},beforeDestroy:function(){this.sockets.unsubscribe("changestate"),this.sockets.unsubscribe("top")}}),G=F,I=(s("6a70"),Object(c["a"])(G,H,L,!1,null,null,null)),X=I.exports;n["a"].use(v["a"]);var Y=[{path:"/",name:"Home",component:g},{path:"/setname",name:"SetName",component:z},{path:"/dashboard",name:"Dashboard",component:N},{path:"/quiz",name:"Quiz",component:K},{path:"/end",name:"End",component:X}],Z=new v["a"]({routes:Y}),tt=Z,et=s("2f62");n["a"].use(et["a"]);var st=new et["a"].Store({state:{},mutations:{},actions:{},modules:{}}),nt=s("f309");n["a"].use(nt["a"]);var at=new nt["a"]({icons:{iconfont:"fa"}}),it=s("5132"),ot=s.n(it);n["a"].config.productionTip=!1,n["a"].use(new ot.a({debug:!0,connection:"https://wss.edwardbot.tk",vuex:{store:st,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),new n["a"]({router:tt,store:st,vuetify:at,render:function(t){return t(b)}}).$mount("#app")},d2b9:function(t,e,s){},de7f:function(t,e,s){}});
//# sourceMappingURL=app.c36d3736.js.map